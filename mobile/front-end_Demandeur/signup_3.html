<!doctype html>
<html class="no-js" lang="en">
    
<!-- Mirrored from technext.github.io/jober-desk/login.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 05 May 2021 16:14:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>User | SignUp</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		
        <!-- All Plugin Css --> 
		<link rel="stylesheet" href="css/plugins.css">
		
		<!-- Style & Common Css --> 
		<link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/main.css">

    </head>
	
    <body>
	
		<!-- Navigation Start  -->
		<nav class="navbar navbar-default navbar-sticky bootsnav">

			<div class="container">      
				<!-- Start Header Navigation -->
				<div class="navbar-header">
					<h3 class="navbar-brand" style="font-size: 180%;"><a style="color:#da0833;" href="#">Your </a>  <a style="color:#636e7b;" href="#"> Career</a></h3>
				</div>
				<!-- End Header Navigation -->
			</div>   
		</nav>
		<!-- Navigation End  -->
		
		<!-- login section start --> 
		<section class="login-wrapper">
			<div class="container">
				<div class="col-md-6 col-sm-8 col-md-offset-3 col-sm-offset-2">
                    <p style="text-align: center;"> Etape3/4</p>
					<form onsubmit="return false">
                        <div class="col-md-12">
                            <h3 class="text-center" style="color: rgb(65, 65, 75);">Informations Professionnelles</h3> 
                        </div> <br><br>
                        <div class="form-group">
                            <h5 style="text-align: left;">Nom de l'entreprise  </h5>
                            <input type="text" id="nomm" name="text-input" placeholder="" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Titre de poste  </h5>
                            <input type="text" id="titreProfessionnel" name="text-input" placeholder="" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Missions </h5>
                            <textarea type="text" id="mission" name="text-input" placeholder="" class="form-control"></textarea>
                        </div> <br>
                        <h4 class="text-left" style="color: rgb(65, 65, 75);"><i><u>Emploi Souhaité</i></u></h4> <br>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Situation Professionnelle</h5>
                            <select id="situationPro" class="form-control" name="">
                                <option value="Etudiant">Etudiant</option>
                                <option value=" poste" >En poste</option>
                                <option value="Disponible">Disponible</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Type de poste</h5>
                            <select id="typePoste" class="form-control" name="">
                                <option value="PFE">stage/PFE</option>
                                <option value=" Stage" >Stage</option>
                                <option value="Saisonnier">Saisonnier</option>
                                <option value="Freelancer">Freelancer</option>
                                <option value="CDI">CDI</option>
                                <option value="CDD">CDD</option>
                                <option value="SIVP">SIVP</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Occupation</h5>
                            <select id="occupation" class="form-control" name="">
                                <option value="plein">Temps plein</option>
                                <option value="partiel" >Temps partiel</option>
                                
                            </select>
                        </div>
                        
						 <br>
                         <button onclick="register();" type="button" class="btn btn-primary btn-md btn-block waves-effect text-center m-b-20"> Enregistrer et continuer</button>

					</form>
				</div>
			</div>
		</section>
		<!-- login section End -->	
		
	

		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/owl.carousel.min.js"></script>
		<script src="js/bootsnav.js"></script>
		<script src="js/main.js"></script>
        <script>
            function register(){
                if(document.getElementById("situationPro").value && document.getElementById("typePoste").value && document.getElementById("occupation").value)
                {
                    // Post a user
                    var url = "http://127.0.0.1:3000/info_pros";
                    var data = {};
                    // récupération des données dans la variable data .
                    data.id_user = localStorage.getItem("id");
                    data.nomEnt = document.getElementById("nomm").value;
                    data.titreProfessionnel = document.getElementById("titreProfessionnel").value;
                    data.mission = document.getElementById("mission").value;
                    data.situationPro = document.getElementById("situationPro").value;
                    data.typePoste = document.getElementById("typePoste").value;
                    data.occupation = document.getElementById("occupation").value;
                    
                    var json = JSON.stringify(data);
                    var xhr = new XMLHttpRequest(); // definir une request de connection standard js
                    xhr.open("POST", url, true); // choisir la méthode post comme méthode d'accès au serveur pour avoir la possibilité d'envoyer les données au serveur .
                    xhr.setRequestHeader('Content-type','application/json; charset=utf-8');
                    xhr.onload = function () {
                        var info_pros = JSON.parse(xhr.responseText);
                        if (xhr.readyState == 4 && xhr.status == "200") {
                            console.table(info_pros);
                            alert("Informations Enregistrées");
                            location.replace("signup_4.html");
                        } else {
                            alert(info_pros.message);
                            console.table(info_pros);
                        }
                    }
                    xhr.send(json);
                }
                else
            {
                alert("Veuillez remplir tous les champs!");
            }
            }
        </script>
    </body>
</html>
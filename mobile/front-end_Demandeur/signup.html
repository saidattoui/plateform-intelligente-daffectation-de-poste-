<!doctype html>
<html class="no-js" lang="en">
    
<!-- Mirrored from technext.github.io/jober-desk/login.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 05 May 2021 16:14:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>User | SignUp</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
		
        <!-- All Plugin Css --> 
		<link rel="stylesheet" href="css/plugins.css">
		
		<!-- Style & Common Css --> 
		<link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/main.css">

    </head>
	
    <body>
	
		<!-- Navigation Start  -->
		<nav class="navbar navbar-default navbar-sticky bootsnav">

			<div class="container">      
				<!-- Start Header Navigation -->
				<div class="navbar-header">
					<h3 class="navbar-brand" style="font-size: 180%;"><a style="color:#da0833;" href="#">Your </a>  <a style="color:#636e7b;" href="#"> Career</a></h3>
				</div>
				<!-- End Header Navigation -->
			</div>   
		</nav>
		<!-- Navigation End  -->
		
		<!-- login section start -->
		<section class="login-wrapper">
			<div class="container">
				<div class="col-md-6 col-sm-8 col-md-offset-3 col-sm-offset-2">
					<form onsubmit="return false">
                        <div class="col-md-12">
                            <h3 class="text-center" style="color: rgb(65, 65, 75);">Créer votre compte</h3> 
                        </div> <br>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Prénom </h5>
                            <input type="text" id="prenom" name="text-input" placeholder="prénom" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Nom </h5>
                            <input type="text" id="nom" name="text-input" placeholder="nom" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Date de naissance </h5>
                            <input type="date" id="dateNaissance" name="dateNaissance" placeholder="" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Région </h5>
                            <select id="ville" class="form-control" name="">
                                <option value="Ariana">Ariana</option>
                                <option value="Ben Arous" >Ben Arous</option>
                                <option value="Béja">Béja</option>
                                <option value="Bizerte">Bizerte</option>
                                <option value="Gabès">Gabès</option>
                                <option value="Gafsa">Gafsa</option>
                                <option value="Gbelli">Gbelli</option>
                                <option value="Jendouba">Jendouba</option>
                                <option value="kairouan">kairouan</option>
                                <option value="Kasserine">Kasserine</option>
                                <option value="Kebili">Kebili</option>
                                <option value="Le Kef">Le Kef</option>
                                <option value="Mahdia">Mahdia</option>
                                <option value="Manouba">Manouba</option>
                                <option value="Médenine">Médenine</option>
                                <option value="Monastir">Monastir</option>
                                <option value="Nabeul">Nabeul</option>
                                <option value="Sfax">Sfax</option>
                                <option value="Sidi Bouzid">Sidi Bouzid</option>
                                <option value="Siliana">Siliana</option>
                                <option value="Sousse">Sousse</option>
                                <option value="Tataouine">Tataouine</option>
                                <option value="Tozeur">Tozeur</option>
                                <option value="Tunis">Tunis</option>
                                <option value="Zaghouan">Zaghouan</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <h5 style="text-align: left;"> Numéro téléphone </h5>
                            <input type="tel" id ="numTel" name="numTel" placeholder="Entrez num" class="form-control">
                        </div>

                        <div class="form-group">
                            <h5 style="text-align: left;"> Adresse E-mail </h5>
                            <input type="email" id ="email" name="email" placeholder="Entrez votre email" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <h5 style="text-align: left;"> Niveau d'étude </h5>
                            <select id="niveauEducation" class="form-control" name="">
                                <option value="Primaire">Primaire</option>
                                <option value="Secondaire">Secondaire</option>
                                <option value="Formations">Formations Professionnelles</option>
                                <option value="Bac">Bac</option>
                                <option value="Bac+1">Bac +1</option>
                                <option value="Bac+2">Bac +2</option>
                                <option value="Bac+3">Bac +3</option>
                                <option value="Bac+4">Bac +4</option>
                                <option value="Bac+5">Bac +5</option>
                                <option value="Bac+6">Bac +6</option>
                                <option value="Doctorat">Doctorat</option>
                                <option value="Recherche">Recherche</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <h5 style="text-align: left;"> Niveau d'expérience </h5>
                            <select id="niveauEexperience" class="form-control" name="">
                                <option value="Aucune">Aucune Expérience</option>
                                <option value="1">Moins du'un an </option>
                                <option value="n2">Entre 1 et 2 ans</option>
                                <option value="n3">Entre 2 et 5 ans</option>
                                <option value="n5">Plus de 5 ans</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <h5 style="text-align: left;"> Mot de passe </h5>
                            <input type="password" id="password" name="password" placeholder="Mot de passe" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Confirmer mot de passe </h5>
                            <input type="password" id="confpassword" name="password" placeholder="confirmer mot de passe" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Type de demandeur </h5>
                            <select id="typeClient" class="form-control" name="">
                                <option value="Stagiaire">Stagiaire</option>
                                <option value="Employé">Employé</option>
                                <option value="Saisonnier">Saisonnier </option>
                            </select>                        
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Poste désiré </h5>
                            <input type="text" id="travailSouhaite" name="text-input" placeholder="travail Souhaité" class="form-control">
                        </div>
                        <div class="form-group">
                            <h5 style="text-align: left;"> Lieu désiré </h5>
                            <select id="lieutravailSouhaite" class="form-control" name="">
                                <option value="Ariana">Ariana</option>
                                <option value="Ben Arous">Ben Arous</option>
                                <option value="Béja">Béja</option>
                                <option value="Bizerte">Bizerte</option>
                                <option value="Gabès">Gabès</option>
                                <option value="Gafsa">Gafsa</option>
                                <option value="Gbelli">Gbelli</option>
                                <option value="Jendouba">Jendouba</option>
                                <option value="kairouan">kairouan</option>
                                <option value="Kasserine">Kasserine</option>
                                <option value="Kebili">Kebili</option>
                                <option value="Le Kef">Le Kef</option>
                                <option value="Mahdia">Mahdia</option>
                                <option value="Manouba">Manouba</option>
                                <option value="Médenine">Médenine</option>
                                <option value="Monastir">Monastir</option>
                                <option value="Nabeul">Nabeul</option>
                                <option value="Sfax">Sfax</option>
                                <option value="Sidi Bouzid">Sidi Bouzid</option>
                                <option value="Siliana">Siliana</option>
                                <option value="Sousse">Sousse</option>
                                <option value="Tataouine">Tataouine</option>
                                <option value="Tozeur">Tozeur</option>
                                <option value="Tunis">Tunis</option>
                                <option value="Zaghouan">Zaghouan</option>
                            </select>
                        </div>
						 <br>
                         <button onclick="register();" type="button" class="btn btn-primary btn-md btn-block waves-effect text-center m-b-20"> Enregistrer et continuer</button>

                         <br>

                         <div class="checkbox-fade fade-in-primary d-">
                            <label>
                                <input type="checkbox" value="">
                                <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                                <span class="text-inverse"> J'accepte les conditions d'utilisation
                                    
                                </span>
                            </label>
                        </div>

						<p style="text-align: center;">Vous avez déjà un compte ? 
							<a href="login.html">Se connecter</a>
						</p> <br>
						
					</form>
				</div>
			</div>
		</section>
		<!-- login section End -->	
	

		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/owl.carousel.min.js"></script>
		<script src="js/bootsnav.js"></script>
		<script src="js/main.js"></script>

        <script>
            function register(){
                var phoneno = /^\d{8}$/;
                var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                if(document.getElementById("nom").value && document.getElementById("prenom").value && document.getElementById("ville").value && document.getElementById("numTel").value && document.getElementById("email").value && document.getElementById("password").value && document.getElementById("typeClient").value && document.getElementById("travailSouhaite").value && document.getElementById("lieutravailSouhaite").value)
                {
                    if(document.getElementById("numTel").value.match(phoneno))
                    {
                if(document.getElementById("email").value.match(mailformat))
                {
                    if(document.getElementById("password").value == document.getElementById("confpassword").value)
                    {
                    // Post a user
                    var url = "http://127.0.0.1:3000/users";
                    var data = {};
                    // récupération des données dans la variable data .
                    data.prenom = document.getElementById("prenom").value;
                    data.nom = document.getElementById("nom").value;
                    data.dateNaissance = document.getElementById("dateNaissance").value;
                    data.ville = document.getElementById("ville").value;
                    data.numTel = document.getElementById("numTel").value;
                    data.email = document.getElementById("email").value;
                    data.niveauEducation = document.getElementById("niveauEducation").value;
                    data.niveauEexperience = document.getElementById("niveauEexperience").value;
                    data.password = document.getElementById("password").value;
                    data.typeClient = document.getElementById("typeClient").value;
                    data.travailSouhaite = document.getElementById("travailSouhaite").value;
                    data.lieutravailSouhaite = document.getElementById("lieutravailSouhaite").value;
                    var json = JSON.stringify(data);
                    var xhr = new XMLHttpRequest(); // definir une request de connection standard js
                    xhr.open("POST", url, true); // choisir la méthode post comme méthode d'accès au serveur pour avoir la possibilité d'envoyer les données au serveur .
                    xhr.setRequestHeader('Content-type','application/json; charset=utf-8');
                    xhr.onload = function () {
                        var users = JSON.parse(xhr.responseText);
                        if (xhr.readyState == 4 && xhr.status == "200") {
                            console.table(users);
                            alert("Demandeur enregistré");
                            localStorage.setItem("nom", users.nom);
                            localStorage.setItem("id", users._id);
                            localStorage.setItem("password", users.password);
                            location.replace("signup_2.html");
                        } else {
                            alert(users.message);
                            console.table(users);
                        }
                    }
                    xhr.send(json);
                }
                else
                {
                alert("Veuillez verifier mdp!");
                }
            }
            else
            {
                alert("Adresse email incorrecte!");
            }}
            else
                    {
                    alert("Veuillez saisir un numéro de téléphone correcte");
                    }}

            else
            {
                alert("Veuillez remplir tous les champs!");
            }
        
        }
            
            
        </script>
    </body>
</html>